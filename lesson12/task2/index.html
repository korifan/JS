<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lesson 12 Task 2</title>
  </head>

  <body>
    <a href="../../index.html">JS Homeworks</a>
    /
    <a href="../../lesson12/index.html">Lesson 12</a>
    / Task 2

    <h1>Task 2</h1>
    <p>
      <strong>Задача 2.</strong>
      Дано масив 30 випадкових цілих чисел. Підрахувати скільки було обмінів під
      час сортування змішуванням.
    </p>

    <h2>Results</h2>
    <div class="results"></div>

    <script>
      // Variables
      const arrLenth = 30
      const minNumber = 1
      const maxNumber = 100
      function getRandomNum(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min
      }

      // create array
      const arr30Random = []
      for (let i = 0; i < arrLenth; i++) {
        arr30Random[i] = getRandomNum(minNumber, maxNumber)
      }
      console.log(arr30Random)

      // Coctail sorting code from Wikipedia
      const swap = (arr, i, j) => {
        const akum = arr[i]
        arr[i] = arr[j]
        arr[j] = akum
      }

      // Coctail Function that return number of changes
      function getNumberOfSortingChanges(array) {
        let leftIndex = 0
        let rightIndex = array.length - 1
        let counter = 0
        while (leftIndex < rightIndex) {
          for (let idx = leftIndex; idx < rightIndex; idx++) {
            if (array[idx] > array[idx + 1]) {
              swap(array, idx, idx + 1)
              counter++
            }
          }
          rightIndex--

          for (let idx = rightIndex; idx > leftIndex; idx--) {
            if (array[idx] < array[idx - 1]) {
              swap(array, idx, idx - 1)
              counter++
            }
          }
          leftIndex++
        }

        return counter
      }

      // Display the results
      const showResults = document.write(
        `<h3>While sorting the array have changed ${getNumberOfSortingChanges(
          arr30Random
        )} times`
      )
    </script>
  </body>
</html>
